<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<body layout:fragment="body">
  <div class="container">
      <h1>Редактировать право доступа</h1>
      <form role="form" th:object="${accessRights}" method="post" id="access-rights-edit-form" th:action="@{/access-rights/{id}/edit(id=${accessRights.id})}">
          <div class="form-group">
              <label for="name" class="mb-2">Название прав</label>
              <input type="text" id="name" th:field="*{name}" class="form-control" required>
              <p th:if="${#fields.hasErrors('name')}" class="text-danger" th:errors="*{name}"></p>
          </div>
          <div class="form-group">
              <label for="userId" class="mb-2">Пользователь</label>
              <select id="userId" name="userId" class="form-control" required>
                  <option th:each="user : ${users}" 
                          th:value="${user.id}" 
                          th:text="${user.name}" 
                          th:selected="${accessRights.user != null && user.id == accessRights.user.id}"></option>
              </select>
          </div>
          <div class="mt-2 d-flex justify-content-end">
              <button type="submit" class="btn btn-primary">Сохранить изменения</button>
          </div>
      </form>
  </div>
</body>
</html>